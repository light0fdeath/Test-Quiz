<!DOCTYPE html>
<html>
<head>
 <title>Test</title>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
 <script src="config.js"></script>
 <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="appanswer" id="content-question">

    <div class="col-xs-4">
        <div class="left-col">
<!--         <div id="left-ele-1"></div>
            <div id="left-ele-2"></div>
            <div id="left-ele-3"></div>
            <div id="left-ele-4"></div>

        -->
        </div>
    </div> 
    <div class="col-xs-4">
        <div class="right-col">
            <!--  
            <div class="right-ele" id="right-ele-1"></div>
            <div class="right-ele" id="right-ele-2"></div>
            <div class="right-ele" id="right-ele-3"></div>
            -->
        </div>
    </div>
    <div class="col-xs-4" >
        <div class="feedback-col">
        </div>
    </div>

</div>



</body>

<script>

var currentTracking=0;
var indexVal= 0;
var leftTracking;
$(document).ready(function(){


    loadQuestion(currentTracking);

});


function addMouseEvent() {

    $(".right-col div").click(function(e) {
        var id = this.id.replace("right-ele-","");
    // loadQuestion(currentTracking);

        var kdata = "tile"+(leftTracking+1);
        var feedTitle = configuration[kdata]["parts"][id]["feedback"]
        var fbutton = '<button class="fbutton">' + "Close" +'</button>';
        var FeedContentHTML = '<div class="feedback" id="feedback-ele' + indexVal + '">' + feedTitle + '</div>';
        FeedContentHTML += fbutton;

        $(".feedback-col").html(FeedContentHTML);

        console.log(leftTracking);

			
		$(".fbutton").click(function()
		{
			currentTracking++;
			loadQuestion(currentTracking);
			console.log("Tracking Index", currentTracking);
			$(".feedback-col").empty();
		});

    });
}


function loadQuestion(indexVal) {
	console.log('question loaded ' + indexVal);
	
    var i = 0;
    var j = 0;

    var LeftContentHTML = "";
    var RightContentHTML = "";

	    
    var my_title_data = [];
    var my_title_data_ans = [];
	
    for(var key in configuration) {
        var keyz = "tile"+(indexVal+1);
		console.log(keyz);
        var leftTitle='<h2>' + configuration[key]["title"] + '</h2>';
        LeftContentHTML += '<div id="left-ele-' + i + '">' + leftTitle + '</div>';
        var parts = configuration[key]["parts"];

        if(keyz==key){
			for(j=0;j<parts.length;j++){
				my_title_data_ans[i,j] = '<p>' + parts[j]["feedback"] + '</p>';
				var rightTitle = '<h2>' + parts[j]["title"] + '</h2>';
				RightContentHTML += '<div id="right-ele-' + j +'">' + rightTitle + '</div>';
				//console.log(my_title[i]);
				//console.log(my_title_data[i,j]);
				//console.log(my_title_data_ans[i,j]);
			}
        }
        i++;

	}
	leftTracking = indexVal;
	
    $(".left-col").html(LeftContentHTML);
    $(".left-col div:nth-child(" + (indexVal+1) + ")").addClass('shake');
    $(".right-col").html(RightContentHTML);
	
	addMouseEvent();

}
</script>



</html>
